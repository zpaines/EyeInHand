<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>REMS Eye In Hand Registration: HECalibration Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">REMS Eye In Hand Registration
   </div>
   <div id="projectbrief">Group 9 Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_h_e_calibration-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HECalibration Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that aids in performing an Eye in Hand calibration using an Angle Bracket as the calibration object. Only static methods are implemented at the moment.  
 <a href="class_h_e_calibration.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_h_e_calibration_8h_source.html">HECalibration.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2765aa44f4e2359a67ad8e8ab61db64"><td class="memItemLeft" align="right" valign="top">vctFrm3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#ab2765aa44f4e2359a67ad8e8ab61db64">GetWristCameraRegistration</a> ()</td></tr>
<tr class="separator:ab2765aa44f4e2359a67ad8e8ab61db64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f30368c98903e7b75aaefb5f0f4038"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#a26f30368c98903e7b75aaefb5f0f4038">addPointCloud</a> (cisstPointCloud cloud)</td></tr>
<tr class="separator:a26f30368c98903e7b75aaefb5f0f4038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67724f066c95632eb50a557c9a22d5a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#a67724f066c95632eb50a557c9a22d5a3">addPose</a> (vctFrm3 pose)</td></tr>
<tr class="separator:a67724f066c95632eb50a557c9a22d5a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab58622d16367aa3a095ce63e7d115e15"><td class="memItemLeft" align="right" valign="top">static vctFrm3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#ab58622d16367aa3a095ce63e7d115e15">readObjectPose</a> (std::string filename)</td></tr>
<tr class="separator:ab58622d16367aa3a095ce63e7d115e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3142d195d52b7d0fba0e3c77c3f37c5f"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; vctFrm3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#a3142d195d52b7d0fba0e3c77c3f37c5f">readRobotPoses</a> (std::string filename)</td></tr>
<tr class="separator:a3142d195d52b7d0fba0e3c77c3f37c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85aa37c2653082ffe3b6be85242d2617"><td class="memItemLeft" align="right" valign="top">static vctRot3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#a85aa37c2653082ffe3b6be85242d2617">axxb</a> (std::vector&lt; vctFrm3 &gt; A, std::vector&lt; vctFrm3 &gt; B)</td></tr>
<tr class="separator:a85aa37c2653082ffe3b6be85242d2617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ea97fc635496a57f33c573b33fd0af"><td class="memItemLeft" align="right" valign="top">static vctFrm3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_e_calibration.html#a56ea97fc635496a57f33c573b33fd0af">leastSquares</a> (vctRot3 Rx, std::vector&lt; vctFrm3 &gt; A, std::vector&lt; vctFrm3 &gt; B)</td></tr>
<tr class="separator:a56ea97fc635496a57f33c573b33fd0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that aids in performing an Eye in Hand calibration using an Angle Bracket as the calibration object. Only static methods are implemented at the moment. </p>
<p>This class is designed to preform a calibration using two sets of data. The first is a set of point clouds where each point cloud is from the Real Sense camera at a different robot pose. These point clouds should be of our calibration object, which is a large angle bracket s.t. there are three planes clearly visible in the point cloud (the two inside edges of the bracket and the table). However this class is not fully implemented. At the moment only the static (mathematical and file reading) methods are implemented. The processing of the point clouds to generate the poses is not yet implemented. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a26f30368c98903e7b75aaefb5f0f4038"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HECalibration::addPointCloud </td>
          <td>(</td>
          <td class="paramtype">cisstPointCloud&#160;</td>
          <td class="paramname"><em>cloud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a point cloud to the set of data for the calibration. Not yet implemented. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cloud</td><td>the point cloud to be added </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a67724f066c95632eb50a557c9a22d5a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HECalibration::addPose </td>
          <td>(</td>
          <td class="paramtype">vctFrm3&#160;</td>
          <td class="paramname"><em>pose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a robot pose to the set of data for calibration. Not yet implemented. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pose</td><td>the pose to be used in the calibration. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85aa37c2653082ffe3b6be85242d2617"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vctRot3 HECalibration::axxb </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; vctFrm3 &gt;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vctFrm3 &gt;&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes X that minmizes the error of AX=XB. This is done using the quaternion method as discussed in Dr. Russell Taylor's lectures. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A[in]</td><td>The set of poses representing the changes in position of the robot wrist </td></tr>
    <tr><td class="paramname">B[in]</td><td>The set of poses representing the changes in position of the calibration object relative to the camera </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The best solution for the rotational component of the transformation from the wrist to the camera </dd></dl>

</div>
</div>
<a class="anchor" id="ab2765aa44f4e2359a67ad8e8ab61db64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vctFrm3 HECalibration::GetWristCameraRegistration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the transformation between the wrist and the camera, assuming that the class is already populated with data. Not yet implemented. </p>

</div>
</div>
<a class="anchor" id="a56ea97fc635496a57f33c573b33fd0af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vctFrm3 HECalibration::leastSquares </td>
          <td>(</td>
          <td class="paramtype">vctRot3&#160;</td>
          <td class="paramname"><em>Rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vctFrm3 &gt;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vctFrm3 &gt;&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Solves the least squares equation to solve for the translational component of F_w. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Rx[in]</td><td>the rotational component of F_w. This can be solved for using the axxb method </td></tr>
    <tr><td class="paramname">A[in]</td><td>The set of poses representing the changes in position of the robot wrist </td></tr>
    <tr><td class="paramname">B[in]</td><td>The set of poses representing the changes in position of the calibration object relative to the camera </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The full frame transformation (with param Rx as the rotational component) </dd></dl>

</div>
</div>
<a class="anchor" id="ab58622d16367aa3a095ce63e7d115e15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vctFrm3 HECalibration::readObjectPose </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads in a pose from a file. The format of the file must be R P where R is a 3x3 rotation matrix and P is a column transformation matrix. The file as a whole should be 3 rows with each row containing 4 numbers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the name of the file containing the pose. Must be properly formatted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pose read in from the file. </dd></dl>

</div>
</div>
<a class="anchor" id="a3142d195d52b7d0fba0e3c77c3f37c5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; vctFrm3 &gt; HECalibration::readRobotPoses </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads in the set of robot poses from a file. Each row of this file must be P Q where P is a 1x3 space separated matrix representing the position of the robot at the time, and Q is a space separated quaternion representing the rotational pose of the robot at the time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the name of the file containing the poses </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a vector containing the poses read in from the file. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_h_e_calibration_8h_source.html">HECalibration.h</a></li>
<li>HECalibration.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
